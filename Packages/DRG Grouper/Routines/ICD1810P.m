ICD1810P ;ALB/MRY - ADD DRGs to CODES  ;10/9/03
 ;;18.0;DRG Grouper;**10**;Oct 13,2000
 Q
 ;
ADDPROC ; Add DRGs to new codes (previously resleased)
 N ICDLINE,X,ICDPROC,ENTRY,ICDSUB,DATA,DIC,DRG,DRG1,DRG2,DRG3,DRG4,DRG5,DRG6,DINUM
 F ICDLINE=1:1 S X=$T(PROC+ICDLINE) S ICDPROC=$P(X,";;",2) Q:ICDPROC="EXIT"  D
 .Q:ICDPROC["+"
 .S ENTRY=+$O(^ICD0("BA",ICDPROC_" ",0)) I ENTRY D
 ..F ICDSUB=1:1 S DATA=$T(PROC+ICDLINE+ICDSUB) Q:DATA'[";;+"  D
 ...S DATA=$P(DATA,";;+",2)
 ...S DRG=$P(DATA,U,2)
 ...S (DRG1,DRG2,DRG3,DRG4,DRG5,DRG6)=""
 ...S DRG1=$P(DRG,"~",1) I $P(DRG,"~",2) S DRG2=$P(DRG,"~",2) I $P(DRG,"~",3) S DRG3=$P(DRG,"~",3) I $P(DRG,"~",4) S DRG4=$P(DRG,"~",4) I $P(DRG,"~",5) S DRG5=$P(DRG,"~",5) I $P(DRG,"~",6) S DRG6=$P(DRG,"~",6)
 ...S DR="1///"_DRG1_";2///"_DRG2_";3///"_DRG3_";4///"_DRG4_";5///"_DRG5_";6///"_DRG6
 ...S DA(1)=ENTRY,DA=$P(DATA,U)
 ...S DIE="^ICD0("_DA(1)_","_"""MDC"""_"," D ^DIE
 Q
ADDDIAG ;
 N ICDLINE,X,ICDDIAG,ENTRY,ICDSUB,DIAG,DIC,MDC,MDC13,MDC24,DRG,DRG1,DRG2,DRG3,DRG4,DRG5,DRG6,DR1,DINUM
 F ICDLINE=1:1 S X=$T(DIAG+ICDLINE) S ICDDIAG=$P(X,";;",2) Q:ICDDIAG="EXIT"  D
 .S DIAG=$P(ICDDIAG,U)
 .S ENTRY=+$O(^ICD9("BA",DIAG_" ",0)) I ENTRY D
 ..S DA=ENTRY,MDC=$P(ICDDIAG,U,2),DRG=$P(ICDDIAG,U,3),MDC24=$P(ICDDIAG,U,4),MDC13=$P(ICDDIAG,U,5)
 ..S (DRG1,DRG2,DRG3,DRG4,DRG5,DRG6)=""
 ..S DRG1=$P(DRG,"~",1) I $P(DRG,"~",2) S DRG2=$P(DRG,"~",2) I $P(DRG,"~",3) S DRG3=$P(DRG,"~",3) I $P(DRG,"~",4) S DRG4=$P(DRG,"~",4) I $P(DRG,"~",5) S DRG5=$P(DRG,"~",5) I $P(DRG,"~",6) S DRG6=$P(DRG,"~",6)
 ..S DR1="60///"_DRG1_";61///"_DRG2_";62///"_DRG3_";63///"_DRG4_";64///"_DRG5_";65///"_DRG6
 ..S DR="5///"_MDC_";"_DR1 S:MDC24 DR=DR_";5.7///"_MDC24 S:MDC13 DR=DR_";5.5///"_MDC13
 ..S DIE="^ICD9(" D ^DIE
 ..S ACTDT=$P($G(^ICD9(ENTRY,0)),U,16)
 ..S DA(1)=ENTRY,ENTRY=+$O(^ICD9(ENTRY,66,"B",ACTDT,0)) I ENTRY D
 ...S DA=ENTRY,DR=DR1
 ...S DIE=DIE_DA(1)_",66," D ^DIE
 ;
 Q
PROC ;
 ;;00.15
 ;;+17^492
 ;;37.51
 ;;+98^103
 ;;37.52
 ;;+5^525
 ;;37.53
 ;;+5^525
 ;;37.54
 ;;+5^525
 ;;68.31
 ;;+13^354~355~357~358~359
 ;;+14^375
 ;;68.39
 ;;+13^354~355~357~358~359
 ;;+14^375
 ;;EXIT
 Q
 ;
DIAG ;
 ;;079.82^18^421~422^^
 ;;255.10^10^300~301^^
 ;;255.11^10^300~301^^
 ;;255.12^10^300~301^^
 ;;255.13^10^300~301^^
 ;;255.14^10^300~301^^
 ;;277.81^10^299^^
 ;;277.82^10^299^^
 ;;277.83^10^299^^
 ;;277.89^10^299^^
 ;;282.41^16^395~396^^
 ;;282.42^16^395~396^^
 ;;282.49^16^395~396^^
 ;;282.64^16^395~396^^
 ;;282.68^16^395~396^^
 ;;289.81^16^398~399^^
 ;;289.82^16^398~399^^
 ;;289.89^16^398~399^^
 ;;331.11^1^12^^
 ;;331.19^1^12^^
 ;;331.82^1^12^^
 ;;348.30^1^16~17^^
 ;;348.31^1^16~17^^
 ;;348.39^1^16~17^^
 ;;358.00^1^12^^
 ;;358.01^1^12^^
 ;;414.07^5^132~133^^
 ;;458.21^5^141~142^^
 ;;458.29^5^141~142^^
 ;;493.81^4^96~97~98^^
 ;;493.82^4^96~97~98^^
 ;;517.3^^92~93^^
 ;;530.20^6^176^^
 ;;530.21^6^176^^
 ;;530.85^6^176^^
 ;;600.00^12^348~349^^
 ;;600.01^12^348~349^^
 ;;600.10^12^348~349^^
 ;;600.11^12^348~349^^
 ;;600.20^12^348~349^^
 ;;600.21^12^348~349^^
 ;;600.90^12^348~349^^
 ;;600.91^12^348~349^^
 ;;607.85^12^352^^
 ;;674.50^14^469^^
 ;;674.51^14^370~371~372~374~375^^
 ;;674.52^14^370~371~372~374~375^^
 ;;674.53^14^383~384^^
 ;;674.54^14^376~377^^
 ;;719.7^8^247^^
 ;;728.87^8^247^^
 ;;728.88^8^248^^
 ;;752.81^12^352^^
 ;;752.89^12^352^^13
 ;;766.21^15^391^^
 ;;766.22^15^391^^
 ;;767.11^15^389^^
 ;;767.19^15^391^^
 ;;779.83^15^391^^
 ;;780.93^23^463~464^^
 ;;780.94^23^463~464^^
 ;;781.94^1^34~35^^
 ;;785.52^18^416~417^^
 ;;788.63^11^325~326~327^^
 ;;790.21^10^296~297~298^^
 ;;790.22^10^296~297~298^^
 ;;790.29^10^296~297~298^^
 ;;799.81^23^467^^
 ;;799.89^23^467^^
 ;;850.11^1^31~32~33^^
 ;;850.12^1^31~32~33^^
 ;;959.11^21^444~445~446^^
 ;;959.12^21^444~445~446^^
 ;;959.13^21^444~445~446^^
 ;;959.14^21^444~445~446
 ;;959.19^21^444~445~446^^
 ;;996.57^21^452~453^^
 ;;V01.82^23^467^^
 ;;V04.81^23^467^^
 ;;V04.82^23^467^^
 ;;V04.89^23^467^^
 ;;V15.87^23^467^^
 ;;V25.03^23^467^^
 ;;V43.21^5^144~145^^
 ;;V43.22^5^144~145^^
 ;;V45.85^23^467^^
 ;;V53.90^23^467^^
 ;;V53.91^23^467^^
 ;;V53.99^23^467^^
 ;;V54.01^8^249^^
 ;;V54.02^8^249^^
 ;;V54.09^8^249^^
 ;;V58.63^23^465~466^^
 ;;V58.64^23^465~466^^
 ;;V58.65^23^465~466^^
 ;;V64.41^23^467^^
 ;;V64.42^23^467^^
 ;;V64.43^23^467^^
 ;;V65.11^23^467^^
 ;;V65.19^23^467^^
 ;;V65.46^23^467^^
 ;;EXIT
 Q
