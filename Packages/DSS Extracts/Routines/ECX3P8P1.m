ECX3P8P1 ;ALB/JAP - National Clinic Update ;July 14, 1998
 ;;3.0;DSS EXTRACTS;**8**;Dec 22, 1997
 ;
ADD7272 ;** Add entries to file #727.2
 ;ECXX is in format: ien;test^source
 N ECX,ECXX,DA,DIC,DIE,DR,DINUM,X,Y,TEST,SOURCE
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" Adding entries to DSS LAB TESTS File (#727.2)...")
 D MES^XPDUTL(" ")
 S $P(^DD(727.21,.01,0),U,5)=""
 F ECX=1:1 S ECXX=$P($T(NEW7272+ECX),";;",2) Q:ECXX="QUIT"  D
 .S ECXDA=$P(ECXX,";",1),ECXX=$P(ECXX,";",2)
 .Q:'$D(^ECX(727.2,1))
 .I $D(^ECX(727.2,1,1,0)),'$D(^ECX(727.2,1,1,ECXDA,0)) D
 ..S TEST=$P(ECXX,U,1),SOURCE=$P(ECXX,U,2)
 ..S DA(1)=1,DIC("P")=$P(^DD(727.2,1,0),U,2),DINUM=ECXDA
 ..S X=TEST,DIC="^ECX(727.2,1,1,",DLAYGO=727.21,DIC(0)="LX",DIC("DR")="2///^S X=SOURCE"
 ..K DD,DO D FILE^DICN K DLAYGO
 ..D MESS
 S $P(^DD(727.21,.01,0),U,5)="K X"
 Q
 ;
ADD729 ;** Add DSS Production Units to file #729
 ;ECXX is in format: CODE^^LONG DESCRIPTION^SHORT DESCRIPTION
 N ECXDA,DIE,DR,ECX,ECXX,DIC,DA,X,Y,A1,A3,A4
 ;continue only if this checkpoint didn't complete
 S ECXDA=$O(^ECX(729,999),-1)
 Q:ECXDA=77
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" Adding entries to DSS PRODUCTION UNIT File (#729)...")
 D MES^XPDUTL(" ")
 S $P(^DD(729,.01,0),U,5)=""
 F ECX=1:1 S ECXX=$P($T(NEW729+ECX),";;",2) Q:ECXX="QUIT"  D
 .S ECXDA=$P(ECXX,";",1),ECXX=$P(ECXX,";",2)
 .I $D(^ECX(729,0)),'$D(^ECX(729,ECXDA,0)) D
 ..S A1=$P(ECXX,U,1),A3=$P(ECXX,U,3),A4=$P(ECXX,U,4)
 ..S DINUM=ECXDA
 ..S X=A1,DIC="^ECX(729,",DLAYGO=729,DIC(0)="LX",DIC("DR")="1///^S X=A3;2///^S X=A4"
 ..K DD,DO D FILE^DICN K DLAYGO
 ..D MESS2
 S $P(^DD(729,.01,0),U,5)="K X"
 Q
 ;
MESS ;** Add message
 N ECXADMSG
 S ECXADMSG=" "_TEST
 D MES^XPDUTL(ECXADMSG)
 S ECXADMSG="     added as record #"_ECXDA_"."
 D MES^XPDUTL(ECXADMSG)
 D MES^XPDUTL(" ")
 Q
 ;
MESS2 ;** Add message
 N ECXADMSG
 S ECXADMSG=" "_A1_" - "_A3
 D MES^XPDUTL(ECXADMSG)
 S ECXADMSG="     added as record #"_ECXDA_"."
 D MES^XPDUTL(ECXADMSG)
 D MES^XPDUTL(" ")
 Q
 ;
CLEAN ;** Delete any new entries added to file #729
 N ECX,DA,DIK,DIC,X,Y,JJ,SS
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" This subroutine will delete those entries in file #729,")
 D MES^XPDUTL(" DSS PRODUCTION UNIT File, which were added by patch ECX*3.0*8.")
 D MES^XPDUTL(" ")
 I $E(IOST)="C" D  Q:'Y
 .S SS=22-$Y F JJ=1:1:SS W !
 .K X,Y
 .S DIR(0)="E" W ! D ^DIR K DIR
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" Deleting...")
 D MES^XPDUTL(" ")
 F ECX=1:1:77 D
 .S DA=ECX,DIK="^ECX(729,"
 .D ^DIK
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" Done.")
 D MES^XPDUTL(" ")
 Q
 ;
CLEAN2 ;delete records added to file #727.2
 N ECX,X,Y,DA,DIK,DIC,JJ,SS
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" This subroutine will delete those entries in file #727.2,")
 D MES^XPDUTL(" DSS LAB TESTS File, which were added by patch ECX*3.0*8.")
 D MES^XPDUTL(" ")
 I $E(IOST)="C" D  Q:'Y
 .S SS=22-$Y F JJ=1:1:SS W !
 .K X,Y
 .S DIR(0)="E" W ! D ^DIR K DIR
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" Deleting...")
 D MES^XPDUTL(" ")
 F ECX=13:1:31 D
 .S DA=ECX,DA(1)=1,DIK="^ECX(727.2,1,1,"
 .D ^DIK
 D MES^XPDUTL(" ")
 D MES^XPDUTL(" Done.")
 D MES^XPDUTL(" ")
 Q
 ;
NEW7272 ;new records for file #727.2
 ;;13;GGTP (GAMMA-GT)^B
 ;;14;DILANTIN (PHENYTOIN)^B
 ;;15;VALPROIC ACID^B
 ;;16;CARBAMAZEPINE (TEGRETOL)^B
 ;;17;HGB A1C (GLYCOSYLATED HGB A1C)^B
 ;;18;ALPHA 1 TRYPSIN PROTEINASE INHIBITOR^B
 ;;19;PSA (PROSTATIC SPECIFIC ANTIGEN)^B
 ;;20;CD-4 (T CELL COUNT)^B
 ;;21;PROTIME^B
 ;;22;TOTAL THYROXINE (T-4)^B
 ;;23;TOTAL TRIIODOTHYRONINE (T-3)^B
 ;;24;THYROID STIMULATING HORMONE (TSH)^B
 ;;25;FOLATE^B
 ;;26;VITAMIN B-12 LEVEL^B
 ;;27;LDLC^B
 ;;28;HDLC^B
 ;;29;TOTAL CHOLESTEROL^B
 ;;30;TRIGLYCERIDES^B
 ;;31;SERUM CREATININE^B
 ;;QUIT
 ;
NEW729 ;production unit entries to add;;CODE^^LONG DESCRIPTION^SHORT DESCRIPTION
 ;;1;E1^^SICU^SICU
 ;;2;E2^^TICU^TICU
 ;;3;E3^^MICU1^MICU1
 ;;4;E4^^MICU2^MICU2
 ;;5;E5^^NICU^NICU
 ;;6;E6^^CCU^CCU
 ;;7;E7^^STEPDOWN 1^STEPDOWN1
 ;;8;E8^^MICU/SICU COMB^MICSICU
 ;;9;EJ^^RECOVERY ROOM^REC ROOM N
 ;;10;EK^^WARD GENERAL MEDICINE/ACUTE MEDICINE 1^MED-1
 ;;11;EL^^WARD GENERAL MEDICINE/ACUTE MEDICINE 2^MED-2
 ;;12;EM^^WARD GENERAL MEDICINE/ACUTE MEDICINE 3^MED-3
 ;;13;EN^^WARDS ONCOLOGY^ONC WD
 ;;14;EO^^WARDS RHEUMATOLOGY/DERMATOLOGY^RHE WD
 ;;15;EP^^WARDS - INFECTIOUS DISEASE^INF WD
 ;;16;EQ^^WARD VENTILLATOR INT. MED 1^VIM-1
 ;;17;ES^^WARD GENERAL MEDICINE/ACUTE MEDICINE 4^MED-4
 ;;18;F1^^WARDS - SURGERY 1^SUR-1
 ;;19;F2^^WARDS - SURGERY 2^SUR-2
 ;;20;F3^^WARDS - SURGERY 3^SUR-3
 ;;21;F4^^WARDS NEUROSURGERY^N SUR
 ;;22;F5^^WARD NEURO/NEURO SURGERY^N/NS
 ;;23;FE^^WARDS MIXED MED/SURG 1^M/SU-1
 ;;24;FF^^WARDS MIXED MED/SURG 2^M/SU-2
 ;;25;FG^^WARDS MIXED MED/SURG 3^M/SU-3
 ;;26;FH^^WARDS MIXED MED/SURG 4^M/SU-4
 ;;27;FI^^WARDS MIXED MED/SURG/PSI 1^MSP-1
 ;;28;FJ^^WARDS MIXED MED/SURG/PSI 2^MSP-2
 ;;29;FK^^WARD MIXED MED/SURG/INT. MED 1^MSI-1
 ;;30;FL^^WARD MIXED MED/SURG/INT. MED 2^MSI-2
 ;;31;FM^^WARDS MIXED MED/INT. MED 1^M/I-1
 ;;32;FN^^WARDS MIXED MED/INT. MED 2^M/I-2
 ;;33;FO^^WARD INT. MED WARD 1^IM-1
 ;;34;FP^^WARD INT. MED WARD 2^IM-2
 ;;35;FS^^WARD VENTILLATOR INT. MED 2^VIM-2
 ;;36;FT^^WARD NEURO^NEU
 ;;37;G1^^WARDS - ROUTINE NHCU 1^NHCU-1
 ;;38;G2^^WARDS - ROUTINE NHCU 2^NHCU-2
 ;;39;G3^^WARDS - ROUTINE NHCU 3^NHCU-3
 ;;40;G4^^WARDS - ROUTINE NHCU 4^NHCU-4
 ;;41;G5^^WARDS - ROUTINE NHCU 5^NHCU-5
 ;;42;G6^^WARDS - ROUTINE NHCU 6^NHCU-6
 ;;43;G7^^WARDS - NHCU VENTILATOR 1^NHV-1
 ;;44;G8^^WARDS - NHCU VENTILATOR 2^NHV-2
 ;;45;GK^^WARDS SCI ROUTINE 1^SCI-1
 ;;46;GL^^WARDS SCI ROUTINE 2^SCI-2
 ;;47;GM^^WARDS SCI - VENTILATOR 1 (ONLY)^SCV-1
 ;;48;GN^^WARDS SCI - VENTILATOR 2 (ONLY)^SCV-2
 ;;49;GO^^WARDS SCI - SURGERY^SCIS
 ;;50;GP^^WARDS SCI - CHRONIC 1^SCC-1
 ;;51;GQ^^WARDS SCI - CHRONIC 2^SCC-2
 ;;52;GR^^WARDS SCI - CHRONIC 3^SCC-3
 ;;53;GS^^WARDS REHAB CARDIAC^REC
 ;;54;GT^^WARDS REHAB ROUTINE^REH
 ;;55;GU^^WARDS REHAB BLIND^RE BL
 ;;56;GV^^WARDS REHAB PAIN^RE PA
 ;;57;H1^^WARDS ALC/DRUG REHAB 1^ADRE-1
 ;;58;H3^^WARDS PSYCHIATRY MIXED DETOX 1^DET-1
 ;;59;H4^^WARDS PSYCHIATRY MIXED DETOX 2^DET-2
 ;;60;H5^^WARDS PSYCHIATRY ACUTE 1^APSI-1
 ;;61;H6^^WARDS PSYCHIATRY ACUTE 2^APSI-2
 ;;62;H7^^WARDS PSYCHIATRY CHRONIC 1^CPSI-1
 ;;63;H8^^WARDS PSYCHIATRY CHRONIC 2^CPSI-2
 ;;64;H9^^WARDS PSYCHIATRY CHRONIC 3^CPSI-3
 ;;65;HA^^WARDS PSYCHIATRY CHRONIC 4^CPSI-4
 ;;66;HI^^WARDS ALC/DRUG REHAB 2^ADRE-2
 ;;67;HJ^^WARDS ALC/DRUG REHAB 3^ADRE-3
 ;;68;HK^^WARDS ALC/DRUG REHAB 4^ADRE-4
 ;;69;HL^^WARDS PSYCHIATRY ACUTE 3^APSI3
 ;;70;HM^^WARDS PSYCHIATRY ACUTE 4^APSI4
 ;;71;HN^^STAR I - MED/PSYCH <90 DAY STAY, OFTEN WITH NEURO SVC.^STARI
 ;;72;HO^^STAR II - INTENSIVE LIFE SKILLS REHAB >90 DAY STAY^STARII
 ;;73;HP^^STAR III - PSYCHIATRIC NURSING CARE, NOT ELEIGIBLE FOR NHCU^STARIII
 ;;74;JD^^PTSD WARD 1^PTSDWARD1
 ;;75;JE^^PTSD WARD 2^PTSDWARD2
 ;;76;JF^^PTSD WARD 3^PTSDWARD3
 ;;77;JG^^PTSD WARD 4^PTSDWARD4
 ;;QUIT
