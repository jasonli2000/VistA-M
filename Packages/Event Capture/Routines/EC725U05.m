EC725U05 ;ALB/GTS/JAP/JAM - EC National Procedure Update;10/27/00
 ;;2.0; EVENT CAPTURE ;**26**;8 May 96
 ;
 ;this routine is used as a post-init in a KIDS build 
 ;to modify the EC National Procedure file #725
 ;
ADDPROC ;* add national procedures
 ;
 ;  ECXX is in format:
 ;   NAME^NATIONAL NUMBER^CPT CODE^FIRST NATIONAL NUMBER SEQUENCE
 ;   LAST NATIONAL NUMBER SEQUENCE
 ;
 N ECX,ECXX,ECDINUM,NAME,CODE,CPT,COUNT,X,Y,DIC,DIE,DA,DR,DLAYGO,DINUM
 N ECADD,ECBEG,ECEND,CODX,NAMX,ECSEQ,LIEN,STR,CPTN,STR
 D MES^XPDUTL(" ")
 D BMES^XPDUTL("Adding new procedures to EC NATIONAL PROCEDURE File (#725)...")
 D MES^XPDUTL(" ")
 S ECDINUM=$O(^EC(725,9999),-1),COUNT=$P(^EC(725,0),U,4)
 F ECX=1:1 S ECXX=$P($T(NEW+ECX),";;",2) Q:ECXX="QUIT"  D
 .S NAME=$P(ECXX,U,1),CODE=$P(ECXX,U,2),CPTN=$P(ECXX,U,3),CODX=CODE
 .S CPT=""
 .I CPTN'="" S CPT=$$FIND1^DIC(81,"","X",CPTN) I +CPT<1 D  Q
 ..S STR="   CPT code "_CPTN_" not a valid code in CPT File."
 ..D MES^XPDUTL(" ")
 ..D BMES^XPDUTL("   ["_CODE_"] "_STR)
 .S ECBEG=$P(ECXX,U,4),ECEND=$P(ECXX,U,5),NAMX=NAME
 .I ECBEG="" S X=NAME D FILPROC Q
 .F ECSEQ=ECBEG:1:ECEND D
 ..S ECADD="000"_ECSEQ,ECADD=$E(ECADD,$L(ECADD)-2,$L(ECADD))
 ..S NAME=NAMX_ECSEQ,X=NAME,CODE=CODX_ECADD
 ..D FILPROC
 S $P(^EC(725,0),U,4)=COUNT,X=$O(^EC(725,999999),-1),$P(^EC(725,0),U,3)=X
 Q
 ;
FILPROC ;File national procedures
 I '$D(^EC(725,"D",CODE)) D
 .S ECDINUM=ECDINUM+1,DINUM=ECDINUM,DIC(0)="L",DLAYGO=725,DIC="^EC(725,"
 .S DIC("DR")="1////^S X=CODE;4////^S X=CPT"
 .D FILE^DICN
 .I +Y>0 D
 ..S COUNT=COUNT+1
 ..D MES^XPDUTL(" ")
 ..S STR="   Entry #"_+Y_" for "_$P(Y,U,2)
 ..S STR=STR_$S(CPT'="":" [CPT: "_CPT_"]",1:"")_" ("_CODE_")"_" "_NAME
 ..D BMES^XPDUTL(STR_"  ...successfully added.")
 .I Y=-1 D
 ..D MES^XPDUTL(" ")
 ..D BMES^XPDUTL("ERROR when attempting to add "_NAME_" ("_CODE_")")
 I $D(^EC(725,"DL",CODE)) D
 .S LIEN=$O(^EC(725,"DL",CODE,""))
 .D MES^XPDUTL(" ")
 .D BMES^XPDUTL("   Your site has a local procedure (entry #"_LIEN_") in File #725")
 .D BMES^XPDUTL("   which uses "_CODE_" as its National Number.")
 .D BMES^XPDUTL("   Please inactivate this local procedure.")
 .K Y
 Q
NEW ;national procedures to add;;descript^nation #^CPT code^beg seq^end seq
 ;;IND CHAP BILL PSYCHO RX 20-30M^CH085^90804
 ;;IND CHAP BILL PSYCHO RX 45-50M^CH086^90806
 ;;IND CHAP BILL PSYCHO RX 75-80M^CH087^90808
 ;;FEE^FE^^1^400
 ;;ALCDRUG HALFWAY HOUSE ^HA^^1^100
 ;;HH REFER VAPD ADULT DAYCARE^HH078
 ;;HH REFER END VAPD ADLT DAYCARE^HH079
 ;;HH REFER VAPD RESPITE CARE^HH080
 ;;HH REFER END VAPD RESPITE CARE^HH081
 ;;HH REFER FEE BASIS OTHER VA^HH082
 ;;HH REFER TO OTHER VA^HH083
 ;;HH SW SUPVSN HAA HOME VISIT^HH108
 ;;HH SW SUPVSN CNH PAT VISIT^HH109
 ;;CHRONIC HOMELESS ^HM^^1^100
 ;;PURCH CHIROPRACTIC VISITS/MO^MS001
 ;;BEDDAY RESIDENTIAL CARE PURCH^RE001
 ;;CERUMEN MANAGEMENT, LEVEL 2^SP266^69210
 ;;CERUMEN MANAGEMENT, LEVEL 3^SP267^69210
 ;;ALD EVAL/SELECTION, LEVEL 2^SP268^92506
 ;;ALD EVAL/SELECTION, LEVEL 3^SP269^92506
 ;;LANGUAGE SCREENING^SP270^V5363
 ;;FOCUSED ARTIC/PHONOLOGY EVAL, LEVEL 2^SP271^92506
 ;;FOCUSED ARTIC/PHONOLOGY EVAL, LEVEL 3^SP272^92506
 ;;FOCUSED DYSARTH/MOTOR SPEECH EVAL, LEVEL 2^SP273^92506
 ;;FOCUSED DYSARTH/MOTOR SPEECH EVAL, LEVEL 3^SP274^92506
 ;;FOCUSED RECEPT/EXPRESS LANG EVAL, LEVEL 2^SP275^92506
 ;;FOCUSED RECEPT/EXPRESS LANG EVAL, LEVEL 3^SP276^92506
 ;;FOCUSED COGNITIVE EVALUATION, LEVEL 2^SP277^92506
 ;;FOCUSED COGNITIVE EVALUATION, LEVEL 3^SP278^92506
 ;;FOCUSED FLUENCY EVALUATION, LEVEL 2^SP279^92506
 ;;FOCUSED FLUENCY EVALUATION, LEVEL 3^SP280^92506
 ;;FOCUSED VOICE EVALUATION, LEVEL 2^SP281^92506
 ;;FOCUSED VOICE EVALUATION, LEVEL 3^SP282^92506
 ;;AUDITORY PROCESSING ASSESSMENT, LEVEL 2^SP283^92506
 ;;AUDITORY PROCESSING ASSESSMENT, LEVEL 3^SP284^92506
 ;;OTHER NONINVASIVE INSTRUM EXAM, LEVEL 2^SP285^92506
 ;;OTHER NONINVASIVE INSTRUM EXAM, LEVEL 3^SP286^92506
 ;;AURAL REHABILITATION TREATMENT, LEVEL 2^SP287^92507
 ;;AURAL REHABILITATION TREATMENT, LEVEL 3^SP288^92507
 ;;VESTIBULAR REHAB TREATMENT, LEVEL 2^SP289^92507
 ;;VESTIBULAR REHAB TREATMENT, LEVEL 3^SP290^92507
 ;;NONSPOKEN LANGUAGE TREATMENT, LEVEL 2^SP291^92507
 ;;NONSPOKEN LANGUAGE TREATMENT, LEVEL 3^SP292^92507
 ;;RECEPT/EXPRESS LANG TREATMENT, LEVEL 2^SP293^92507
 ;;RECEPT/EXPRESS LANG TREATMENT, LEVEL 3^SP294^92507
 ;;VOICE TREATMENT, LEVEL 2^SP295^92507
 ;;VOICE TREATMENT, LEVEL 3^SP296^92507
 ;;ARTIC/PHONOL TREATMENT, LEVEL 2^SP297^92507
 ;;ARTIC/PHONOL TREATMENT, LEVEL 3^SP298^92507
 ;;MOTOR SPEECH TREATMENT, LEVEL 2^SP299^92507
 ;;MOTOR SPEECH TREATMENT, LEVEL 3^SP300^92507
 ;;APHASIA TREATMENT, LEVEL 2^SP301^92507
 ;;APHASIA TREATMENT, LEVEL 3^SP302^92507
 ;;FLUENCY TREATMENT, LEVEL 2^SP303^92507
 ;;FLUENCY TREATMENT, LEVEL 3^SP304^92507
 ;;AUDITORY PROCESSING TREATMENT, LEVEL 2^SP305^92507
 ;;AUDITORY PROCESSING TREATMENT, LEVEL 3^SP306^92507
 ;;COCHLEAR IMPLANT REHAB, LEVEL 2^SP307^92510
 ;;COCHLEAR IMPLANT REHAB, LEVEL 3^SP308^92510
 ;;LARYNGEAL FUNCTION STUDY, LEVEL 2^SP309^92520
 ;;LARYNGEAL FUNCTION STUDY, LEVEL 3^SP310^92520
 ;;NON-INSTRUMENT SWALLOWING EVAL, LEVEL 2^SP311^92525
 ;;NON-INSTRUMENT SWALLOWING EVAL, LEVEL 3^SP312^92525
 ;;SWALLOWING TREATMENT, LEVEL 2^SP313^92526
 ;;SWALLOWING TREATMENT, LEVEL 3^SP314^92526
 ;;AUDITORY EVOKED POTENTIALS, LEVEL 2^SP315^92585
 ;;AUDITORY EVOKED POTENTIALS, LEVEL 3^SP316^92585
 ;;CENTRAL AUD FUNCTION EVAL, LEVEL 2^SP317^92589
 ;;CENTRAL AUD FUNCTION EVAL, LEVEL 3^SP318^92589
 ;;HEARING AID ASSESSMENT, MON, LEVEL 2^SP319^92590
 ;;HEARING AID ASSESSMENT, MON, LEVEL 3^SP320^92590
 ;;HEARING AID ASSESSMENT, BIN, LEVEL 2^SP321^92591
 ;;HEARING AID ASSESSMENT, BIN, LEVEL 3^SP322^92591
 ;;HEARING AID CHECK/REPAIR/ADJUST, MON, LEVEL 2^SP323^92592
 ;;HEARING AID CHECK/REPAIR/ADJUST, MON, LEVEL 3^SP324^92592
 ;;HEARING AID CHECK/REPAIR/ADJUST, BIN, LEVEL 2^SP325^92593
 ;;HEARING AID CHECK/REPAIR/ADJUST, BIN, LEVEL 3^SP326^92593
 ;;AUG/ALTERN/PROSTH DEVICE EVAL, LEVEL 2^SP327^92597
 ;;AUG/ALTERN/PROSTH DEVICE EVAL, LEVEL 3^SP328^92597
 ;;MODIY AUGM/ALTERN/PROSTH DEVICE, LEVEL 2^SP329^92598
 ;;MODIY AUGM/ALTERN/PROSTH DEVICE, LEVEL 3^SP330^92598
 ;;SPEECH/LANGUAGE/HEARING EVAL, LEVEL 2^SP331^92506
 ;;SPEECH/LANGUAGE/HEARING EVAL, LEVEL 3^SP332^92506
 ;;SPEECH/LANGUAGE/HEARING TREATMENT, LEVEL 2^SP333^92507
 ;;SPEECH/LANGUAGE/HEARING TREATMENT, LEVEL 3^SP334^92507
 ;;FOCUSED NASALITY EVAL, LEVEL 2^SP335^92506
 ;;FOCUSED NASALITY EVAL, LEVEL 3^SP336^92506
 ;;FOCUSED ALARYNGEAL SPEECH EVAL, LEVEL 2^SP337^92506
 ;;FOCUSED ALARYNGEAL SPEECH EVAL, LEVEL 3^SP338^92506
 ;;FOCUSED PROSODY EVAL, LEVEL 2^SP339^92506
 ;;FOCUSED PROSODY EVAL, LEVEL 3^SP340^92506
 ;;ALARYNGEAL SPEECH TREATMENT, LEVEL 2^SP341^92507
 ;;ALARYNGEAL SPEECH TREATMENT, LEVEL 3^SP342^92507
 ;;NASALITY TREATMENT, LEVEL 2^SP343^92507
 ;;NASALITY TREATMENT, LEVEL 3^SP344^92507
 ;;NON-PHYSICIAN PROFESSIONAL SERV, LEVEL 1^SP345^99211
 ;;NON-PHYSICIAN PROFESSIONAL SERV, LEVEL 2^SP346^99211
 ;;NON-PHYSICIAN PROFESSIONAL SERV, LEVEL 3^SP347^99211
 ;;VIDEOFLUOROSCOPIC EVAL OF SWALLOWING^SP348^74230
 ;;DYNAMIC PHARYNG/SPEECH VIDEO/CINE EVAL^SP349^70371
 ;;NEUROBEHAVORIAL STATUS EXAM, PER HOUR^SP350^96115
 ;;V5008 HEARING SCREENING^SP362^V5008
 ;;V5010 HEARING AID ASSESSMENT/EVALUATION^SP363^V5010
 ;;V5011 FITTING/ORIENTATION/CHECKING OF HEARING AID^SP364^V5011
 ;;V5014 REPAIR/MODIFICATION OF HEARING AID^SP365^V5014
 ;;V5020 CONFORMITY EVAL, REAL-EAR MEASUREMENT^SP366^V5020
 ;;V5030 HEARING AID, MON, BODY WORN, AIR CONDUCTION^SP367^V5030
 ;;V5040 HEARING AID, MON, BODY WORN, BONE CONDUCTION^SP368^V5040
 ;;V5050 HEARING AID, MONAURAL, ITE^SP369^V5050
 ;;V5060 HEARING AID, MONAURAL, BTE^SP370^V5060
 ;;V5070 HEARING AID, EYEGLASS, AIR CONDUCTION^SP371^V5070
 ;;V5080 HEARING AID, EYEGLASS, BONE CONUDCTION^SP372^V5080
 ;;V5090 DISPENSING FEE, UNSPECIFIED HEARING AID^SP373^V5090
 ;;V5100 HEARING AID, BILATERAL, BODY WORN^SP374^V5100
 ;;V5110 DISPENSING FEE, BILATERAL HEARING AID^SP375^V5110
 ;;V5120 HEARING AID, BINAURAL, BODY HEARING AID^SP376^V5120
 ;;V5130 HEARING AID, BINAURAL, ITE^SP377^V5130
 ;;V5140 HEARING AID, BINAURAL, BTE^SP378^V5140
 ;;V5150 HEARING AID, BINAURAL, EYEGLASS^SP379^V5150
 ;;V5160 DISPENSING FEE, BINAURAL HEARING AID^SP380^V5160
 ;;V5170 HEARING AID, CROS, ITE^SP381^V5170
 ;;V5180 HEARING AID, CROS, BTE^SP382^V5180
 ;;V5190 HEARING AID, CROS, GLASSES^SP383^V5190
 ;;V5200 DISPENSING FEE, CROS^SP384^V5200
 ;;V5210 HEARING AID, BICROS, ITE^SP385^V5210
 ;;QUIT
