DVB429PT ;ALB/REV POST-INSTALL FOR PATCH DVB*4*29 ; 03/24/97
 ;;V4.0;HINQ;**29**;03/25/92
 ;
 ;This routine will be run as a post-installation for patch DVB*4*29.
 ;This routine will add new disability codes to and modify existing
 ;names/descriptions in the DISABILITY CONDITION file (#31).
 ;
POST ;entry point for post-install, setting up checkpoints
 N %
 S %=$$NEWCP^XPDUTL("DVBLINE","EN^DVB429PT",1)
 Q
 ;
EN ;begin processing
 ;
 N DVBLINE
 ;
 D BMES^XPDUTL("  >> *** Updating DISABILITY CONDITION file (#31)")
 D MES^XPDUTL("  ")
 ;
 ;get value from checkpoints, previous run
 S DVBLINE=+$$PARCP^XPDUTL("DVBLINE")
 ;
DVBNEW ;add new codes or modify name
 ;
 F DVBI=DVBLINE:1 S DVBJ=$P($T(NEWCODE+DVBI),";;",2) Q:DVBJ["$EXIT"  D
 .S DVBCODE=+DVBJ,DVBNAME=$E($P(DVBJ,"^",2),1,45),DVBLINE=DVBI
 .S DVBDESC=$E($P(DVBJ,"^",3),1,200)
 .;
 .;add new code
 .I '$D(^DIC(31,"C",DVBCODE)) D  G UPDATECH
 ..K DD,DO
 ..S DIC="^DIC(31,",DIC(0)="L",DIC("DR")="2////"_DVBCODE_";10////"_DVBDESC
 ..S X=DVBNAME,DLAYGO=31
 ..D FILE^DICN
 ..D MES^XPDUTL(DVBCODE_":  adding  "_DVBCODE_"  "_X)
 ..K DLAYGO,DIC,X
 ..Q
 .;
 .;modify name
 .S DVBIEN=+$O(^DIC(31,"C",DVBCODE,0))
 .S DVBREC=$G(^DIC(31,DVBIEN,0)),DVBOLDSC=$G(^DIC(31,DVBIEN,1)) I DVBREC']"" D  G UPDATECH
 ..D MES^XPDUTL("  >>>> error "_DVBCODE_" in C x-reference and not in file 31")
 ..Q
 .S DVBOLDN=$P(DVBREC,"^") I DVBOLDN=DVBNAME&(DVBOLDSC=DVBDESC) G UPDATECH
 .S DA=DVBIEN,DIE="^DIC(31,",DR=".01////"_DVBNAME_";10////"_DVBDESC
 .D ^DIE
 .K DR,DA,DIE
 .I DVBOLDN'=DVBNAME D
 ..D MES^XPDUTL(DVBCODE_": changing name from "_DVBOLDN)
 ..D MES^XPDUTL("                    to   "_DVBNAME)
 .I DVBOLDSC'=DVBDESC D
 ..D MES^XPDUTL(DVBCODE_": changing description...")
 ..D MES^XPDUTL("          from:  "_DVBOLDSC)
 ..D MES^XPDUTL("            to:  "_DVBDESC)
 .;
UPDATECH .;update checkpoint
 .S %=$$UPCP^XPDUTL("DVBLINE",DVBLINE)
 .Q
 K DVBCODE,DVBI,DVBIEN,DVBJ,DVBNAME,DVBOLDN,DVBREC,DVBDESC,DVBOLDSC
 Q
 ;
NEWCODE ; codes to be added or changed
 ;;5025^FIBROMYALGIA^FIBROSITIS, PRIMARY FIBROMYALGIA SYNDROME
 ;;6205^MENIERE'S SYNDROME^MENIERE'S SYNDROME
 ;;6207^LOSS, OR PARTIAL LOSS OF EAR(S)^AURICLE, LOSS OF
 ;;6305^FILARIASIS^LYMPHATIC FILARIASIS
 ;;6306^BARTONELLOSIS^OROYA FEVER (BARTONELLOSIS)
 ;;6310^TREPONEMAL INFECTIOUS CONDITION^SYPHILIS AND OTHER TREPONEMAL INFECTIONS
 ;;6316^UNDULANT FEVER (BRUCELLOSIS)^BRUCELLOSIS (MALTA OR UNDULANT FEVER)
 ;;6502^SEPTUM, NASAL, DEVIATION OF^SEPTUM, NASAL, DEVIATION OF - TRAUMATIC
 ;;6518^LARYNGECTOMY, TOTAL^LARYNGECTOMY, TOTAL
 ;;6520^LARYNX, STENOSIS OF^LARYNX, STENOSIS OF - INCL. RESIDUAL OF TRAUMA
 ;;7115^BUERGER'S DISEASE^THROMBOANGITIS OBLITERANS (BUERGER'S DISEASE) 
 ;;7316^INFLAMMATION OF BILE DUCT^CHOLANGITIS, CHRONIC
 ;;7343^NEOPLASM, MALIGNANT, DIGESTIVE SYSTEM^NEW GROWTHS, MALIGNANT, EXCLUSIVE OF SKIN GROWTHS 
 ;;7528^NEOPLASM, MALIGNANT, GENITOURINARY^MALIGNANT NEOPLASMS OF THE GENITOURINARY SYSTEM
 ;;7529^NEOPLASM, BENIGN, GENITOURINARY^BENIGN NEOPLASMS OF THE GENITOURINARY SYSTEM
 ;;7535^TOXIC NEPHROPATHY^TOXIC NEPHROPATHY
 ;;7540^DISSEMINATED INTRAVASCULAR COAGULATION^DISSEMINATED INTRAVASCULAR COAGULATION WITH RENAL CORTICAL NECROSIS
 ;;7610^VULVA, DISEASE OR INJURY OF^VULVA, DISEASE OR INJURY OF
 ;;7611^VAGINA, DISEASE OR INJURY OF^VAGINA, DISEASE OR INJURY OF
 ;;7612^CERVIX, DISEASE OR INJURY OF^CERVIX, DISEASE OR INJURY OF
 ;;7613^UTERUS, DISEASE, INJURY, OR ADHESIONS OF^UTERUS, DISEASE, INJURY, OR ADHESIONS OF
 ;;7614^FALLOPIAN TUBE,DISEASE,INJURY,OR ADHESIONS TO^FALLOPIAN TUBE,DISEASE,INJURY,OR ADHESIONS TO
 ;;7615^OVARY, DISEASE, INJURY, OR ADHESIONS OF^OVARY, DISEASE, INJURY, OR ADHESIONS OF
 ;;7624^RECTOVAGINAL FISTULA^FISTULA, RECTOVAGINAL
 ;;7625^URETHROVAGINAL FISTULA^FISTULA, URETHROVAGINAL
 ;;7626^BREAST, SURGERY OF^MAMMARY GLANDS, REMOVAL OR EXCISION OF
 ;;7627^NEOPLASM, MALIGNANT, GYNECOLOGICAL OR MAMMARY^NEW GROWTHS, MALIGNANT, GYNECOLOGICAL SYSTEM OR MAMMARY GLANDS
 ;;7628^NEOPLASM, BENIGN, GYNECOLOGICAL^
 ;;7700^ANEMIA^ANEMIA, HYPOCHROMIC-MICROCYTIC AND MEGALOBLASTIC
 ;;7704^POLYCYTHEMIA VERA^POLYCYTHEMIA, PRIMARY
 ;;7705^THROMBOCYTOPENIA^THROMBOCYTOPENIA,PRIMARY,IDEOPATHIC OR IMMUNE
 ;;7710^ADENITIS, TUBERCULOUS^ADENITIS, TUBERCULOUS, ACTIVE OR INACTIVE
 ;;7716^APLASTIC ANEMIA^APLASTIC ANEMIA
 ;;7818^NEOPLASM, MALIGNANT, SKIN^NEW GROWTHS, MALIGNANT, SKIN
 ;;7819^NEOPLASM, BENIGN, SKIN^NEW GROWTHS, BENIGN, SKIN
 ;;7908^ACROMEGALY^HYPERPITUITARISM (ACROMEGALY OR GIGANTISM)
 ;;7909^HYPOPITUITARISM (DIABETES INSIPIDUS)^HYPOPITUITARISM (DIABETES INSIPIDUS)
 ;;7911^ADDISON'S DISEASE, AN ADRENAL CONDITION^ADDISON'S DISEASE (ADRENAL CORTICAL HYPOFUNCTION)
 ;;7913^DIABETES MELLITUS^DIABETES MELLITUS
 ;;7914^NEOPLASM, MALIGNANT, ENDOCRINE^NEW GROWTHS, MALIGNANT, ANY SPECIFIED PART OF ENDOCRINE SYSTEM
 ;;7915^NEOPLASM, BENIGN, ENDOCRINE^NEW GROWTHS, BENIGN, ANY SPECIFIED PART OF ENDOCRINE SYSTEM
 ;;8105^SYDENHAM'S CHOREA^CHOREA, SYDENHAM'S
 ;;8106^HUNTINGTON'S CHOREA^CHOREA, HUNTINGTON'S
 ;;9201^PSYCHOSIS, DISORG SCHIZ^SCHIZOPHRENIA, DISORGANIZED TYPE
 ;;9202^PSYCHOSIS,CATATONIC SCHIZ^SCHIZOPHRENIA, CATATONIC TYPE
 ;;9203^PSYCHOSIS, SCHIZ PARA^SCHIZOPHRENIA, PARANOID TYPE
 ;;9204^PSYCHOSIS, SCHIZ UNDIFF^SCHIZOPHRENIA, UNDIFFERENTIATED TYPE
 ;;9205^PSYCHOSIS, SCHIZ RESIDUAL AND OTHER^SCHIZOPHRENIA, RESIDUAL TYPE/ OTHER AND UNSPEC. TYPES
 ;;9206^BIPOLAR PSYCHOSIS^BIPOLAR DISORDER, MANIC, DEPRESSED, OR MIXED
 ;;9207^MAJ DEP W/PSYCHOTIC FEAT.^MAJOR DEPRESSION WITH PSYCHOTIC FEATURES
 ;;9208^DELUS. DISORDERS^DELUSIONAL DISORDERS
 ;;9209^MAJ DEP W/MELANCHOLIA^MAJOR DEPRESSION WITH MELANCHOLIA
 ;;9210^ATYPICAL PSYCHOSIS^PSYCHOTIC DISORDER, NOS
 ;;9211^SCHIZOAFFECTIVE DISORDER^SCHIZOAFFECTIVE DISORDER
 ;;9300^BRAIN SYNDROME^DELIRIUM
 ;;9301^BRAIN SYNDROME^DEMENTIA DUE TO INFECTION (HIV,SYPHILIS,ETC.)
 ;;9304^BRAIN SYNDROME^DEMENTIA DUE TO HEAD TRAUMA
 ;;9305^BRAIN SYNDROME^VASCULAR DEMENTIA
 ;;9310^BRAIN SYNDROME^DEMENTIA OF UNKNOWN ETIOLOGY
 ;;9312^BRAIN SYNDROME^DEMENTIA OF ALZHEIMER'S TYPE
 ;;9326^BRAIN SYNDROME^DEMENTIA DUE TO OTHER NEURO OR GEN. MED. CONDITIONS
 ;;9327^BRAIN SYNDROME^ORGANIC MENTAL DISORDER, OTHER
 ;;9400^NEUROSIS, GEN ANX DIS^GENERALIZED ANXIETY DISORDER
 ;;9401^NEUROSIS, PSYCHOGENIC AMNESIA^PSYCHOGENIC AMNESIA
 ;;9402^NEUROSIS, CONV DISORDER^CONVERSION DISORDER
 ;;9403^NEUROSIS, PHOBIA^SPECIFIC (SIMPLE) PHOBIA
 ;;9404^NEUROSIS, OBS COMP DISORD^OBSESSIVE COMPULSIVE DISORDER
 ;;9405^NEUROSIS, DYSTHYMIC DISORD^DYSTHYMIC DISORDER
 ;;9408^NEUROSIS, DEPERS DISORD^DEPERSONALIZATION DISORDER
 ;;9409^NEUROSIS, HYPOCHONDRIASIS^HYPOCHONDRIASIS
 ;;9412^PANIC DISORDER^PANIC DISORDER AND/OR AGORAPHOBIA
 ;;9413^ANXIETY DISORDER^ANXIETY DISORDER, NOS
 ;;9416^DISSOCIATIVE AMNESIA^DISSOCIATIVE AMNESIA, FUGUE OR IDENTITY DISORDER
 ;;9417^DEPERSONALIZATION DISORDER^DEPERSONALIZATION DISORDER
 ;;9421^SOMATIZATION DISORDER^SOMATIZATION DISORDER
 ;;9422^PAIN DISORDER^PAIN DISORDER
 ;;9423^UNDIFFERENTIATED SOMATOFORM DISORDER^UNDIFFERENTIATED SOMATOFORM DISORDER
 ;;9424^CONVERSION DISORDER^CONVERSION DISORDER
 ;;9425^HYPOCHONDRIASIS^HYPOCHONDRIASIS
 ;;9431^CYCLOTHYMIC DISORDER^CYCLOTHYMIC DISORDER
 ;;9432^BIPOLAR DISORDER^BIPOLAR DISORDER
 ;;9433^DYSTHYMIC DISORDER^DYSTHYMIC DISORDER
 ;;9434^MAJOR DEPRESSIVE DISORDER^MAJOR DEPRESSIVE DISORDER
 ;;9435^MOOD DISORDER, NOT OTHERWISE SPECIFIED^MOOD DISORDER, NOT OTHERWISE SPECIFIED
 ;;9440^CHRONIC ADJUSTMENT DISORDER^CHRONIC ADJUSTMENT DISORDER
 ;;9520^ANOREXIA NERVOSA^ANOREXIA NERVOSA (EATING DISORDER)
 ;;9521^BULIMIA NERVOSA^BULIMIA NERVOSA (EATING DISORDER)
 ;;$EXIT
 Q
