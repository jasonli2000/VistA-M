IBYPPT1 ;ALB/ARH - IB*2*131 POST INIT: UPDATE PROVIDER DISCOUNT ; 05/25/00
 ;;2.0;INTEGRATED BILLING;**131**;21-MAR-94
 ; 
 ; RE-RELEASE OF PROVIDER DISCOUNT UPDATE ORIGINALLY IN IB*2*134
 ;
 D PDDEL ; delete all Provider Discount Sets and Links (363.34) for RC PROVIDER DISCOUNTS Special Group
 D PDADD ; add new Provider Discount Sets and Links (363.34) for RC PROVIDER DISCOUNTS Special Group
 ;
 Q
 ;
 ; Update Provider Discount File, add groups and Person Class links
 ;
PDADD ; add new entries to the Provider Discount file (364.34) for the RC PROVIDER DISCOUNTS Special Group
 N IBA,IBX,IBI,IBJ,IBC,IBSG,IBLN,IBNM,IBPD,IBM,X,Y,DIC,DIE,DA,DR,DD,DO,DLAYGO,DINUM S IBC=0
 ;
 S IBSG=$$RCSG Q:'IBSG
 ;
 F IBI=1:1 S IBLN=$P($T(PDF+IBI),";;",2,999) Q:IBLN=""  D
 . ;
 . I $E(IBLN)=" " S IBPD=0 Q
 . ;
 . ; create record of discount group, first piece is the discount name
 . I 'IBLN S IBNM=$P(IBLN,U,1) S IBPD=0 I IBNM'="",'$O(^IBE(363.34,"B",IBNM,0)) D  Q
 .. F IBJ=1:1 S IBX=$G(^IBE(363.34,IBJ,0)) I IBX="" S DINUM=IBJ Q
 .. S DLAYGO=363.34,DIC("DR")=".02////"_IBSG_";.03////"_$P(IBLN,U,2)
 .. K DD,DO S DIC="^IBE(363.34,",DIC(0)="L",X=IBNM D FILE^DICN K DIC,DLAYGO,DINUM I Y>0 S IBPD=+Y S IBC=IBC+1
 . ;
 . ; add the Person Class links to the discount group, first piece is the pointer to Person Class file
 . I +IBLN,+IBPD,$P($$IEN2CODE^XUA4A72(+IBLN),U,1)=$P(IBLN,U,2) D
 .. S DLAYGO=363.34,DA(1)=IBPD,DIC("P")="363.3411PA"
 .. K DD,DO S DIC="^IBE(363.34,"_DA(1)_",11,",DIC(0)="L",X=+IBLN D FILE^DICN K DIC,DLAYGO
 .. I Y>0 S IBM(IBNM)=+$G(IBM(IBNM))+1
 ;
 S IBA(1)="    >> Add New Discounts to the RC PROVIDER DISCOUNTS Special Group ("_IBC_")"
 S IBI=2,IBX="" F  S IBX=$O(IBM(IBX)) Q:IBX=""  S IBA(IBI)="         "_IBX_" Discount ("_IBM(IBX)_")",IBI=IBI+1
 D MES^XPDUTL(.IBA)
 Q
 ;
PDDEL ; delete all entries from Provider Discount file (364.34) for the RC PROVIDER DISCOUNTS Special Group
 N IBA,IBI,IBSG,IBC,DA,DIK,DIC,X,Y S IBC=0,IBSG=$$RCSG Q:'IBSG
 ;
 S IBI=0 F  S IBI=$O(^IBE(363.34,IBI)) Q:'IBI  D
 . I +$P($G(^IBE(363.34,IBI,0)),U,2)=IBSG S DA=IBI,DIK="^IBE(363.34," D ^DIK K DIK,DA S IBC=IBC+1
 ;
 S IBA(1)="    >> Removing old Discounts from the RC PROVIDER DISCOUNTS Special Group ("_IBC_")"
 D MES^XPDUTL(.IBA)
 Q
 ;
RCSG() ; get the pointer to the RC PROVIDER DISCOUNTS Special Group (363.32)
 N IBX S IBX=+$O(^IBE(363.32,"B","RC PROVIDER DISCOUNTS",0))
 Q IBX
 ;
 ;
 ; Provider Discounts
PDF ; 
 ;;CERT REG NURSE ANESTHETIST^50
 ;;263^V070200
 ;;660^V100500
 ;; 
 ;;CLINICAL NURSE SPECIALIST^85
 ;;254^V070100
 ;;255^V070102
 ;;256^V070103
 ;;257^V070104
 ;;258^V070105
 ;;525^V100301
 ;;526^V100302
 ;;527^V100305
 ;;528^V100303
 ;;529^V100306
 ;;530^V100307
 ;;531^V100308
 ;;532^V100311
 ;;533^V100310
 ;;534^V100312
 ;;535^V100313
 ;;536^V100315
 ;;537^V100316
 ;;538^V100317
 ;;539^V100321
 ;;540^V100324
 ;;541^V100325
 ;;542^V100327
 ;;543^V100328
 ;;544^V100329
 ;;545^V100330
 ;;546^V100322
 ;;547^V100323
 ;;548^V100331
 ;;549^V100332
 ;;550^V100333
 ;;551^V100334
 ;;552^V100335
 ;;553^V100318
 ;;554^V100319
 ;;555^V100320
 ;;654^V100300
 ;;655^V100304
 ;;656^V100309
 ;;657^V100314
 ;;658^V100326
 ;; 
 ;;CLINICAL PHARMACIST^80
 ;;246^V090100
 ;;247^V090101
 ;;248^V090102
 ;;249^V090103
 ;;250^V090104
 ;;251^V090105
 ;; 
 ;;CLINICAL PSYCHOLOGIST^80
 ;;350^V010400
 ;;351^V010401
 ;;352^V010403
 ;;353^V010402
 ;;354^V010404
 ;;355^V010405
 ;;356^V010406
 ;;357^V010407
 ;;358^V010408
 ;;512^V010409
 ;;513^V010410
 ;;514^V010411
 ;;515^V010412
 ;;516^V010413
 ;;517^V010414
 ;;518^V010415
 ;;519^V010416
 ;;520^V010417
 ;;521^V010418
 ;;522^V010419
 ;; 
 ;;CLINICAL SOCIAL WORKER^75
 ;;369^V010600
 ;;370^V010100
 ;;371^V010500
 ;; 
 ;;DIETITIAN^75
 ;;340^V040400
 ;;341^V040401
 ;;342^V040402
 ;;343^V040403
 ;; 
 ;;NURSE PRACTITIONER^85
 ;;266^V070500
 ;;267^V070501
 ;;268^V070502
 ;;269^V070503
 ;;270^V070504
 ;;271^V070505
 ;;272^V070506
 ;;273^V070507
 ;;556^V100601
 ;;557^V100604
 ;;558^V100603
 ;;559^V100608
 ;;560^V100613
 ;;561^V100612
 ;;562^V100616
 ;;563^V100614
 ;;564^V100615
 ;;565^V100618
 ;;566^V100610
 ;;661^V100600
 ;;662^V100602
 ;;663^V100605
 ;;664^V100606
 ;;665^V100607
 ;;666^V100609
 ;;667^V100611
 ;;668^V100617
 ;; 
 ;;PHYSICIAN ASSISTANT^85
 ;;203^V100000
 ;;204^V100200
 ;;205^V100100
 ;; 
 ;;ZERO CHARGE^0
 ;;24^V111300
 ;;25^V111400
 ;;44^V111700
 ;;331^V070806
 ;;344^V050000
 ;;345^V050100
 ;;346^V050200
 ;;347^V050300
 ;;348^V050400
 ;;396^V130405
 ;;478^V150402
 ;;481^V150405
 ;;485^V150409
 ;;486^V150410
 ;;487^V150411
 ;;488^V150412
 ;;489^V150413
 ;;490^V150414
 ;;492^V080100
 ;;493^V080200
 ;;494^V080212
 ;;495^V080203
 ;;496^V080201
 ;;497^V080300
 ;;499^V080500
 ;;501^V080700
 ;;502^V080800
 ;;503^V080900
 ;;504^V081000
 ;;505^V081100
 ;;508^V081500
 ;;568^V081700
 ;;627^V081905
 ;;633^V150901
 ;;634^V150902
 ;;647^V081800
 ;;648^V081901
 ;;649^V081903
 ;;650^V081904
 ;;651^V082001
 ;;652^V150903
 ;;653^V151101
 ;;672^V170400
 ;;673^V170600
 ;;
 ;;
 Q
