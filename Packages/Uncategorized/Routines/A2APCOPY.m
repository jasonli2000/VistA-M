A2APCOPY ;JA/WASH COPY PATCHES(11005) TO 1200035 ;11/17/98  10:49
 ;;1.0
 ; THIS PROGRAMS COPIES PATCHES TO FILE ^A2AP(1200035,
 S U="^",N=0,NEWDATE=$P(^A2AP(1200035,0),U,5) S SA=^A2AP(1200035,0) K ^A2AP(1200035) S ^A2AP(1200035,0)=SA
ST F I=1:1 S N=$O(^A1AE(11005,N)) Q:N'=+N  S D=^(N,0) D A
 W !,"DONE" S ^A2AP(1200035,0)="NATIONAL PATCHES^1200035I^"_$P(^A1AE(11005,0),U,3,4)_"^"_DT Q
A ;
 Q:N["DENT*1.14*"
 Q:N["DG*3"
 Q:N["DG*4"
 Q:N["DG*5*"
 Q:N["DG*5.1"
 Q:N["DG*5.2"
 Q:N["DI*17.4"
 Q:N["DI*17.7"
 Q:N["DI*18*"
 Q:N["DI*19*"
 Q:N["DI*20*"
 Q:N["DVB*3"
 Q:N["DVBA*1"
 Q:N["DVBA*2*"
 Q:N["DVBA*2.5*"
 Q:N["DVBA*2.6*"
 Q:N["EN*6*"
 Q:N["FB*1.13"
 Q:N["FB*2.1"
 Q:N["FB*3*"
 Q:N["FH*3"
 Q:N["FH*4"
 Q:N["GEC*1.4*"
 Q:N["GEC*1.5*"
 Q:N["GMRA*2.2"
 Q:N["GMTS*1"
 Q:N["IB*1*"
 Q:N["ICD*6"
 Q:N["ICD*7"
 Q:N["ICD*8"
 Q:N["ICD*9"
 Q:N["ICD*10"
 Q:N["ICD*11"
 Q:N["ICD*12"
 Q:N["ICD*13"
 Q:N["ICD*14"
 Q:N["ICPT*3"
 Q:N["ICPT*5.01"
 Q:N["LBR*1.2"
 Q:N["LR*2*"
 Q:N["LR*3"
 Q:N["LR*4"
 Q:N["LR*5.1"
 Q:N["MC*1"
 Q:N["MC*2*"
 Q:N["MC*2.2"
 Q:N["NTSI*2*"
 Q:N["NUR*1"
 Q:N["NUR*2"
 Q:N["NUR*3"
 Q:N["ONC*1"
 Q:N["ONC*2*"
 Q:N["OR*1"
 Q:N["OR*2"
 Q:N["PRC*1"
 Q:N["PRC*2"
 Q:N["PRC*3*"
 Q:N["PRC*4*"
 Q:N["PRCA*3.7*"
 Q:N["PRCA*4*"
 Q:N["PRS*2"
 Q:N["PRS*3"
 Q:N["PRST*1.14*"
 Q:N["PRST*2.01"
 Q:N["PSG*1"
 Q:N["PSG*2.13"
 Q:N["PSGW*1"
 Q:N["PSGW*2.04"
 Q:N["PSGW*2.2"
 Q:N["PSIV*2*"
 Q:N["PSJ*3"
 Q:N["PSJ*4"
 Q:N["PSN*1"
 Q:N["PSN*2"
 Q:N["PSN*3*"
 Q:N["PSN*3.01"
 Q:N["PSN*3.1"
 Q:N["PSN*3.11"
 Q:N["PSN*3.13"
 Q:N["PSN*3.14"
 Q:N["PSN*3.15"
 Q:N["PSN*3.16"
 Q:N["PSN*3.17"
 Q:N["PSO*5"
 Q:N["PSO*6"
 Q:N["QIP*1"
 Q:N["QIP*2"
 Q:N["QIP*3"
 Q:N["QAO*2"
 Q:N["QAQ*1*"
 Q:N["RA*2"
 Q:N["RA*3"
 Q:N["RA*4"
 Q:N["RMPR*1"
 Q:N["RT*1.26"
 Q:N["SD*3"
 Q:N["SD*4"
 Q:N["SD*5.1"
 Q:N["SD*5.2"
 Q:N["SOW*1"
 Q:N["SOW*2"
 Q:N["SPN*1"
 Q:N["SR*1"
 Q:N["XM*3"
 Q:N["XM*7*"
 Q:N["XT*7.2"
 Q:N["XU*5"
 Q:N["XU*6"
 Q:N["XU*7"
 Q:N["XZ"
 Q:N["YS*3"
 Q:N["YS*4"
 Q:N["YS*5*"
 I $P(D,U,11)>NEWDATE&($P(D,U,8)="v") S ^A2AP(1200035,N,0)=$P(D,U,1,5)_"^"_$P(D,U,11) D B S ^A2AP(1200035,"B",$P(D,U,1),N)="",X=$P(D,U,1),^A2AP(1200035,"AC",$P(X,"*",1),$P(X,"*",2),$P(X,"*",3),N)="" W !,N
 Q
B ;
 Q:'$D(^A1AE(11005,N,"P"))  S ^A2AP(1200035,N,"P",0)="^1200035.05^^"
 S AG=11005,AGG=1200035
 S M=0 F I=1:1 S M=$O(^A1AE(AG,N,"P",M)) Q:M'=+M  S ^A2AP(AGG,N,"P",M,0)=^A1AE(AG,N,"P",M,0),^A2AP(AGG,N,"P","B",^A1AE(AG,N,"P",M,0),M)="",AA=$P(^A1AE(AG,N,0),"^"),^A2AP(AGG,"PATCHED",^A1AE(AG,N,"P",M,0),$P(AA,"*",2),$P(AA,"*",3))=""
 Q
DEL ;
 R !,"NAME*VER:",X:60 Q:X=""
 S M=0 F I=1:1 S M=$O(^A2AP(AGG,M)) Q:M'=+M  I $P(^(M,0),U,1)[X W !,M K ^A2AP(AGG,M)
 G DEL
PR ;
 S N="",M="" F I=1:1 S N=$O(^A2AP(AGG,"B",N)) Q:N=""  I $P(N,"*",1,2)'=M W !,N S M=$P(N,"*",1,2)
