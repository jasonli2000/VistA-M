A4ARIG6 ;HINES CIOFO/JJM-IG REPORTS ; 10/22/98 13:00
V ;;4.5;Accounts Receivable;**41,77,117**;Mar. 20, 1995
PRPTS ; PRINT ALL REPORTS
 D:'$G(^XTMP("A4ARIG",$J,"BILL",0)) EN1^A4ARIG
 D NOW^%DTC
 D OPEN
 W @IOF
 D BSRPTS
 D CLOSE
 D EOR
 QUIT
BSRPTS ; PRINT BILL SSS REPORTS
 S ACCRUED=0
 W @IOF
 F ACCRUED=0:1:1 D BSRPT1
 F ACCRUED=0:1:1 W @IOF D BSRPT2
 QUIT
 D ^A4ARIG1
BSRPT1 ;
BSRPT2 ;
 D ^A4ARIG2
 QUIT
BSRPT3 ;
 W !!,?15,"BILL DATA SSS REPORT BY CCC"
 W !,?20,%,!,?35,"JOB NUMBER: ",$J
 W !,?25,$S(ACCRUED=0:"NON-ACCRUED ",1:"ACCRUED")," SSS REPORT - 1",!
 S (RTOTAL,RTOTAL1,RTOTAL2,RTOTAL3,RTOTAL4,RTOTAL5)=0 S VVV=""
 F  S VVV=$O(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV)) Q:VVV=""  D
    . S WWW=""
    . F  S WWW=$O(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,"CCC",WWW)) Q:WWW=""  D
      .. S XXXX=""
      .. F  S XXXX=$O(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,"CCC",WWW,"XXXX",XXXX)) Q:XXXX=""  D
       ... S YYY="" F  S YYY=$O(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,"CCC",WWW,"XXXX",XXXX,"YYY",YYY)) Q:YYY=""  D
           .... W !,VVV,"CAGEGORY: ",WWW,"XXXX: ",XXXX,"  ","YYY: ",YYY
           .... W ?35,$J(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,"CCC",WWW,"XXXX",XXXX,"YYY",YYY,0),12,2),$J(^(1),12,2),$J(^(2),12,2),$J(^(3),12,2),$J(^(4),12,2),$J(^(5),12,2)
      ... W !,"TOTALS FOR",VVV,"CCC: ",WWW,"XXXX: ",XXXX,":",?35,$J(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,"CCC",WWW,"XXXX",XXXX,0),12,2),$J(^(1),12,2),$J(^(2),12,2),$J(^(3),12,2),$J(^(4),12,2),$J(^(5),12,2)
      .. ; W !,"TOTALS FOR ",VVV,"CCC: ",WWW,":",!,$J(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,"CCC",WWW,0),12,2),$J(^(1),12,2),$J(^(2),12,2),$J(^(3),12,2),$J(^(4),12,2),$J(^(5),12,2)
      .. S RTOTAL=RTOTAL+^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,0)
      .. S RTOTAL1=RTOTAL1+^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,1)
      .. S RTOTAL2=RTOTAL2+^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,2)
      .. S RTOTAL3=RTOTAL3+^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,3)
      .. S RTOTAL4=RTOTAL4+^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,4)
      .. S RTOTAL5=RTOTAL5+^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,5)
      . ; W !,"TOTALS FOR ",VVV,":",!,$J(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,0),12,2),$J(^(1),12,2),$J(^(2),12,2),$J(^(3),12,2),$J(^(4),12,2),$J(^(5),12,2)
    . ; W !,$J(^XTMP("A4ARIG",$J,"ACCRUED",ACCRUED,"SSS",VVV,0),12,2),$J(^(1),12,2),$J(^(2),12,2),$J(^(3),12,2),$J(^(4),12,2),$J(^(5),12,2)
 ; W !,"GRAND TOTALS :",!,$J(RTOTAL,12,2),$J(RTOTAL1,12,2),$J(RTOTAL2,12,2),$J(RTOTAL3,12,2),$J(RTOTAL4,12,2),$J(RTOTAL5,12,2)
 QUIT
BSRPT4 ;
BSRPT5 ;
BSRPT6 ;
OPEN ; SELECT OUTPUT DEVICE
 S %ZIS="M" D ^%ZIS U IO
 QUIT
CLOSE ; CLOSE OUTPUT DEVICE
 D ^%ZISC
 QUIT
EOR ; END OF ROUTINE
 K WWW,XXXX,YYY,RTOTAL,VVV,TT
 K ACCRUED,AMT,AMT1,AMT2,AMT3,AMT4,AMT5,WWW,XXXX,YYY,VVV
 K RTOTAL,RTOTAL1,RTOTAL2,RTOTAL3,RTOTAL4,RTOTAL5
 K TAMT,TAMT1,TAMT2,TAMT3,TAMT4,TAMT5
