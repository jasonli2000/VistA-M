ADXTMDR ;523/RES ; DOCTOR FILE MOVE TO ^TMP("ADXT","DOC")   ;MAR 29, 1993
 ;;1.1;;
 ;
 K ^TMP("ADXT","DOC")
 N X,ADXTX1,ADXTREC
 S U="^",X="DOCFILE.T01",ADXTX2=0
 K DIC S DIC="^DIZ(8980,",DIC(0)="" D ^DIC I Y'>0 S ADXTSTAT=0 Q
 S REC=$P(Y,U,1)
 W !,"Copying Docfile records to ^TMP from Kermit Holding file:"
 F ADXTX1=0:0 S ADXTX1=$O(^DIZ(8980,REC,2,ADXTX1)) Q:ADXTX1=""  S ADXTREC=^DIZ(8980,REC,2,ADXTX1,0) D MOVE
 W !,"Transfer complete ",ADXTX2," records moved."
 G EXIT
MOVE ;
 I $E(ADXTX2,$L(ADXTX2))="0" W "."
 S ADXTLL=$L(ADXTREC)
 ;I $E(ADXTREC,115)="("&($E(ADXTREC,119)=")") S ^TMP("ADXT","DOC",ADXTX2)=$E(ADXTREC,1,ADXTLL),ADXTX2=ADXTX2+1 Q
 I ADXTLL'<66 S ^TMP("ADXT","DOC",ADXTX2)=$E(ADXTREC,1,ADXTLL),ADXTX2=ADXTX2+1 Q
 ;W !,"DISCARDING: ",ADXTREC Q
 Q
EXIT ;
 K X,REC,ADXTREC,ADXTLL,ADXTX1,ADXTX2
 Q
