ADXTMS ;523/RES ; SECOND FILE MOVE TO ^TMP("ADXT","SCD")   ;MAR 29, 1993
 ;;1.1;;
 ;
 K ^TMP("ADXT","SCD")
 N X,ADXTX1,ADXTREC
 S U="^",X="SCDFILE.T01",ADXTX2=1
 W !,"Copying Second file records to ^TMP from Kermit Holding file: "
 K DIC S DIC="^DIZ(8980,",DIC(0)="" D ^DIC I Y'>0 S ADXTSTAT=0 Q
 S REC=$P(Y,U,1)
 F ADXTX1=0:0 S ADXTX1=$O(^DIZ(8980,REC,2,ADXTX1)) Q:ADXTX1=""  S ADXTREC=^DIZ(8980,REC,2,ADXTX1,0) D MOVE
 W !,"Transfer complete ",ADXTX2," records moved."
 G EXIT
MOVE ;
 I $E(ADXTX2,$L(ADXTX2))="0" W "."
 S ADXTLL=$L(ADXTREC)
 ;I $E(ADXTREC,86)="("&($E(ADXTREC,90)=")") S ^TMP("ADXT","SCD",ADXTX2)=$E(ADXTREC,1,ADXTLL),ADXTX2=ADXTX2+1 Q
 I ADXTLL'<66 S ^TMP("ADXT","SCD",ADXTX2)=$E(ADXTREC,1,ADXTLL),ADXTX2=ADXTX2+1 Q
 ;W !,"DISCARDING: ",ADXTREC Q
EXIT ;
 K X,ADXTREC,ADXTLL
 Q
