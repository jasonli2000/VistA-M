DJRD ;JA/WASH; READ SINGLE CHARACTER DRIVER ; 30 Jul 86  10:38 AM
 ;VERSION 1.36
RD S X="",DJQT=0,DJLG=+DJJ(V),DJSM=0,DJ=1 F DJK=1:1:DJLG+1 R *Y:DTIME S DJZ=$T S:'DJZ Y=94 Q:Y=13  S DJAD=0 D A:Y<32!(Y>122) Q:DJQT  S X=X_$C(Y) Q:'DJZ
 I $L(X)>DJLG W @IOBS," ",*7 X XY S:'$D(V(V)) V(V)="" D B:V(V)'="",D:V(V)="" W V(V) W:$D(DJDB) DJDB K DJDB X XY G RD
 I X?1"^".E!(X?1"?".E) S:'$D(V(V)) V(V)="" D B:V(V)'="",D:V(V)="" X XY W @DJHIN X XY W V(V) W:$D(DJDB) DJDB W @DJLIN K DJDB X XY Q
 K DJQT,DJLG,DJZ,Y,DJK Q
R R *Y:DTIME S DJZ=$T S:'DJZ Y=13
A ;
 I Y=13 S DJQT=1 Q
 I Y=8!(Y=127) D BL G R
 I Y<32!(Y>122) W *7 D BL G R
 S DJQT=0 S:DJ DJK=DJK+1 Q
 S X=X_$C(Y) R *Y:DTIME I Y>47&(Y<58) S X=X_$C(Y),DJQT=1 Q
 I Y=13 S DJQT=1 Q
 W *7 S X="",DJQT=1,DJSM=1 Q
 Q
BL I DJK>0 W *8," ",*8 S DJK=DJK-$S(DJ=1:2,1:1) S X=$S(DJK>0:$E(X,1,DJK),1:""),DJ=0,DJAD=1 Q
 S X="",DJQT=1 Q
 I Y'=13 S X="",DJQT=0,DJSM=0,DJ=1 X XY S $P(DJDB," ",DJJ(V))=" " W DJDB K DJDB X XY G R
 S DJSM=1,DJQT=1 Q
B S $P(DJDB," ",DJJ(V)-$L(V(V)))=" " Q
D S $P(DJDB,".",DJJ(V))="." Q
