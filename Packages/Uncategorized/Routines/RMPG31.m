RMPG31 ;DDC/KAW-CONTINUATION OF ROES PATCH RMPF*1.1*3 [ 12/01/92  11:20 AM ]
 ;;1.1;RMPF;**3**;02-25-92
MOD W !!,"Adding new models"
 F IX=1:1:19 S ST=$P($T(MODEL+IX),";;",2) D  W "."
 .S MD=$P(ST,";",1),PM=$O(^RMPF(791811,"B",MD,0)),P2=$P(ST,";",2),DA=0
 .I PM,$D(^RMPF(791811,PM,0)),$P(^(0),"^",2)=P2!($P(^(0),"^",2)="") S DA=PM
 .I 'PM K DD,DO S DIC="^RMPF(791811,",X=MD,DIC(0)="L",DLAYGO=791811 D FILE^DICN S DA=+Y
 .Q:'DA
 .S P3="CUSTOM HEARING AIDS",P4=$P(ST,";",3),P5=$P(ST,";",4)
 .S DIE="^RMPF(791811,",DR=".02///"_P2_";.03///"_P3_";.04///"_P4_";.06///"_P5 D ^DIE
BAT W !!,"Adding batteries to models",!
 S B1="ZA10",P1=$O(^RMPF(791811.3,"B",B1,0)) I 'P1 S X=B1 D SETBAT S:Y'=-1 P1=+Y
 S B2="ZA312",P2=$O(^RMPF(791811.3,"B",B2,0)) I 'P2 S X=B2 D SETBAT S:Y'=-1 P2=+Y
 S B3="ZA13",X=$O(^RMPF(791811.3,"B",B3,0)) I 'X S X=B3 D SETBAT
 S B4="ZA675",X=$O(^RMPF(791811.3,"B",B4,0)) I 'X S X=B4 D SETBAT
 S MD=0 F  S MD=$O(^RMPF(791811,"D","DANAVOX",MD)) Q:'MD  D  W "."
 .Q:'$D(^RMPF(791811,MD,0))  S NM=$P(^(0),"^",1)
 .I '$D(^RMPF(791811,MD,102,0)) S ^RMPF(791811,MD,102,0)="^791811.0102PA"
 .I P1,'$D(^RMPF(791811,MD,102,"B",P1)) S X=P1,DA(1)=MD,DIC="^RMPF(791811,"_DA(1)_",102,",DIC(0)="LN",DLAYGO=791811 K DD,DO D FILE^DICN
 .I NM["DCE",P2,'$D(^RMPF(791811,MD,102,"B",P2)) S X=P2,DA(1)=MD,DIC="^RMPF(791811,"_DA(1)_",102,",DIC(0)="LN",DLAYGO=791811 K DD,DO D FILE^DICN
 F IX=1:1:28 S ST=$P($T(BATTERY+IX),";;",2) D
 .S SM=$P(ST,";",1),SB=$P(ST,";",2) Q:SM=""!(SB="")
 .S PM=$O(^RMPF(791811,"B",SM,0)) Q:'PM
 .S PB=$O(^RMPF(791811.3,"B",SB,0)) Q:'PB
 .Q:$D(^RMPF(791811,PM,102,PB,0))
 .I '$D(^RMPF(791811,PM,102,0)) S ^RMPF(791811,PM,102,0)="^791811.0102PA"
 .K DD,DO S X=PB,DIC="^RMPF(791811,"_PM_",102,",DA(1)=PM
 .S DIC(0)="LN",DLAYGO=791811 D FILE^DICN
COST W !!,"Correcting component costs"
 F IX=1:1:8 S SX=$P($T(COS+IX),";;",2) D  W "."
 .S MD=$P(SX,";",1),MP=$O(^RMPF(791811,"B",MD,0)) Q:'MP
 .S CM=$P(SX,";",2),CP=$O(^RMPF(791811.2,"B",CM,0)) Q:'CP
 .S CS=$P(SX,";",3)
 .S PT=$O(^RMPF(791811,MP,101,"B",CP,0)) Q:'PT
 .S $P(^RMPF(791811,MP,101,PT,0),"^",2)=CS
END Q
SUB S CM=$P(SC,";",1),CE=$E(CM,1,30),CD=$P(SC,";",2),CS=$P(SC,";",3)
 S (X,CP)=0 F IC=1:1 S X=$O(^RMPF(791811.2,"B",CE,X)) Q:'X  I $D(^RMPF(791811.2,X,0)),$P(^(0),"^",3)=CD S CP=X Q
 I CD="CRR"!(CD="FRC"),MD="SA C8"!(MD="SA S8") S CS=0
 I MK="STARKEY",CD="TML",MD'="CE 8"&(MD'="CE L8-LP")&(MD'="CE L8-FF") Q
 I MK="TELEX",CD="HELIX"!(CD="POWER"),MD'="28A" Q
 I MK="TELEX",CD="KAMP",MD'="28A"&(MD'="TLP") Q
 D SET^RMPG32
 Q
MODEL ;;New models
 ;;9300 AF;PHONAK;166.78;9
 ;;9300 AF-SC;PHONAK;179.18;9
 ;;9800 AF;PHONAK;210.18;9
 ;;9800 AF-SC;PHONAK;222.58;9
 ;;9900 AF;PHONAK;234.98;9
 ;;CE 8;STARKEY;148.73;9
 ;;CE L8-LP;STARKEY;161.23;9
 ;;CE L8-FF;STARKEY;188.22;9
 ;;CE H8;STARKEY;197.72;9
 ;;SA C8;STARKEY;239.08;9
 ;;SA S8;STARKEY;274.07;9
 ;;28A;TELEX;144.8;9
 ;;TLP;TELEX;163.7;9
 ;;M29;TELEX;167.10;9
 ;;TCA;TELEX;217.6;9
 ;;TCA-M;TELEX;238.5;9
 ;;WIRELESS CROS;TELEX;364.02;9
 ;;WIRELESS BICROS;TELEX;372.02;9
 ;;WIRELESS MULTICROS;TELEX;398.59;9
BATTERY ;;
 ;;ALPHA FS;ZA312
 ;;ALPHA HS;ZA13
 ;;ALPHA LP;ZA13
 ;;ALTO;ZA312
 ;;ALTO-HP;ZA312
 ;;ALTO-LP;ZA312
 ;;9100 AF;ZA312
 ;;9100 AF-P;ZA312
 ;;9100 AF-SC;ZA312
 ;;9300 AF;ZA13
 ;;9300 AF;ZA312
 ;;9300 AF;ZA10
 ;;9300 AF-SC;ZA13
 ;;9300 AF-SC;ZA312
 ;;9300 AF-SC;ZA10
 ;;9800 AF;ZA10
 ;;9800 AF;ZA312
 ;;9800 AF-SC;ZA10
 ;;9800 AF-SC;ZA312
 ;;9900 AF;ZA10
 ;;9900 AF;ZA312
 ;;UL-21;ZA13
 ;;ULTRA IROS II;ZA13
 ;;ULTRA LITE II;ZA13
 ;;WIRELESS MULTICROS;ZA10
 ;;WIRELESS MULTICROS;ZA675
 ;;WIRELESS MULTICROS;ZA13
 ;;WIRELESS MULTICROS;ZA312
SETBAT S DIC="^RMPF(791811.3,",DIC(0)="L",DLAYGO=791811.3 K DD,DO
 D FILE^DICN Q
COS ;;
 ;;ULTRA POWER II;FEEDBACK CONTROL;0
 ;;ULTRA IROS II;FEEDBACK CONTROL;0
 ;;UI-K;LOW CUT TONE CONTROL;0
 ;;UL-21;LOW CUT TONE CONTROL;0
 ;;UL-23;LOW CUT TONE CONTROL;0
 ;;V-1;LOW CUT TONE CONTROL;0
 ;;V-1-HS;LOW CUT TONE CONTROL;0
 ;;UI-K;ACCENT 2000+;0
