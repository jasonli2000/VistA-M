VECSG10
 ;;1
 ;VARIABLE LIST
 ;
 ;CTYNAME...CITY USER WANTS TO SEARCH FOR
 ;RECORD....CURRENT RECORD
 ;RECNR.....RECORD NUMBER OF CURRENT RECORD
 ;ADDR......FULL ADDRESS OF CURRENT RECORD
 ;CITY......CITY OF CURRENT RECORD
 ;ANS.......USER'S RESPONSE TO "PRESS ENTER TO RETURN TO THE MENU"
 ;
START ;
 R !!,"ENTER CITY: ",CTYNAME:DTIME
 I '$T!(CTYNAME["^") G EXIT
 I CTYNAME'?1U.A W !,"CITY NAME MUST START WITH AN UPPER CASE LETTER" G START
 F RECNR=1:1:NAMES(0) D SEARCH
 G EXIT
SEARCH ;
 S RECORD=NAMES(RECNR)
 S ADDR=$P(RECORD,"^",3)
 S CITY=$P(ADDR,",",1)
 I CITY[CTYNAME D WRREC^VECSG7
 Q
EXIT ;
 R !!,"PRESS ENTER TO GO TO THE MENU",ANS:DTIME
 K ADDR,CTYNAME,RECNR,RECORD,ANS
 Q
  
            
     
