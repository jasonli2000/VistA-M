ZRESUTL2 ;CONSTRUCT GROUPS OF FIELDS FOR A FILE
 R !,"Enter New Field Group Name: ",GRPNAME Q:GRPNAME=""!(GRPNAME="^")
 S ^ZRKB(GRPNAME,"GR")=""
 K DIC S DIC=1,DIC(0)="AEMQ" D ^DIC Q:+Y'>0  S GRFILE=+Y
EN S DIC="^DD("_GRFILE_",",DIC("A")="SELECT FIELDS:" D ^DIC Q:+Y'>0  D  G EN
 .S ^ZRKB(GRPNAME,"GR")=^ZRKB(GRPNAME,"GR")_Y_"^"_GRFILE_"|"
 Q
DISPLAY ;
 S GDATA=^ZRKB(FIELDNAM,"GR")
 F PC=1:1 Q:$P(GDATA,"|",PC)=""  S PDATA=$P(GDATA,"|",PC) D  
 .S DR=$P(PDATA,"^",1),(HDIC,DIC)=$P(PDATA,"^",3),DIQ="ANS" D EN^DIQ1
 .W !,$P(PDATA,"^",2)_": ",ANS(HDIC,DA,DR)
 .K ANS
